<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (17) on Sat Aug 30 23:32:01 UTC 2025 -->
<title>LicenseDetailsService (admin-ui-plugin 0.0.0-nightly API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2025-08-30">
<meta name="description" content="declaration: package: io.jans.ca.plugin.adminui.service.license, class: LicenseDetailsService">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/LicenseDetailsService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">io.jans.ca.plugin.adminui.service.license</a></div>
<h1 title="Class LicenseDetailsService" class="title">Class LicenseDetailsService</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance"><a href="../BaseService.html" title="class in io.jans.ca.plugin.adminui.service">io.jans.ca.plugin.adminui.service.BaseService</a>
<div class="inheritance">io.jans.ca.plugin.adminui.service.license.LicenseDetailsService</div>
</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="annotations">@Singleton
</span><span class="modifiers">public class </span><span class="element-name type-name-label">LicenseDetailsService</span>
<span class="extends-implements">extends <a href="../BaseService.html" title="class in io.jans.ca.plugin.adminui.service">BaseService</a></span></div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#APPLICATION_JSON" class="member-name-link">APPLICATION_JSON</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#AUTHORIZATION" class="member-name-link">AUTHORIZATION</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#BEARER" class="member-name-link">BEARER</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#CODE" class="member-name-link">CODE</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#CONTENT_TYPE" class="member-name-link">CONTENT_TYPE</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#HARDWARE_ID" class="member-name-link">HARDWARE_ID</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#LICENSE_ACTIVATE_ERROR_RESPONSE" class="member-name-link">LICENSE_ACTIVATE_ERROR_RESPONSE</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#LICENSE_APIS_404" class="member-name-link">LICENSE_APIS_404</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#LICENSE_APIS_503" class="member-name-link">LICENSE_APIS_503</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#LICENSE_ISACTIVE_ERROR_RESPONSE" class="member-name-link">LICENSE_ISACTIVE_ERROR_RESPONSE</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#LICENSE_KEY" class="member-name-link">LICENSE_KEY</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#LICENSE_RETRIEVE_ERROR_RESPONSE" class="member-name-link">LICENSE_RETRIEVE_ERROR_RESPONSE</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#MESSAGE" class="member-name-link">MESSAGE</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#TRIAL_GENERATE_ERROR_RESPONSE" class="member-name-link">TRIAL_GENERATE_ERROR_RESPONSE</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">LicenseDetailsService</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../model/auth/GenericResponse.html" title="class in io.jans.ca.plugin.adminui.model.auth">GenericResponse</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#activateLicense(io.jans.ca.plugin.adminui.model.auth.LicenseRequest)" class="member-name-link">activateLicense</a><wbr>(<a href="../../model/auth/LicenseRequest.html" title="class in io.jans.ca.plugin.adminui.model.auth">LicenseRequest</a>&nbsp;licenseRequest)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The function checks if the license is already active, if not, it creates a header map, creates a body map, and sends
 a POST request to the license server</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../model/auth/GenericResponse.html" title="class in io.jans.ca.plugin.adminui.model.auth">GenericResponse</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#checkLicense()" class="member-name-link">checkLicense</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Checks if the license details are valid and up-to-date.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../model/auth/GenericResponse.html" title="class in io.jans.ca.plugin.adminui.model.auth">GenericResponse</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#deleteLicenseConfiguration()" class="member-name-link">deleteLicenseConfiguration</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Deletes the license-related configuration in both the persistent and in-memory Admin UI configuration.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../model/auth/GenericResponse.html" title="class in io.jans.ca.plugin.adminui.model.auth">GenericResponse</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#generateTrialLicense()" class="member-name-link">generateTrialLicense</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This function generates a trial license by sending a request to a specified URL and saving the license key in the
 configuration.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../model/auth/LicenseResponse.html" title="class in io.jans.ca.plugin.adminui.model.auth">LicenseResponse</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLicenseDetails()" class="member-name-link">getLicenseDetails</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This function is used to get the license details of the admin-ui</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../model/auth/GenericResponse.html" title="class in io.jans.ca.plugin.adminui.model.auth">GenericResponse</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#postSSA(io.jans.ca.plugin.adminui.model.auth.SSARequest)" class="member-name-link">postSSA</a><wbr>(<a href="../../model/auth/SSARequest.html" title="class in io.jans.ca.plugin.adminui.model.auth">SSARequest</a>&nbsp;ssaRequest)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The function takes an SSA string as input, calls the DCR API to get the scan hostname and OIDC client settings, and
 saves the SSA string and the scan hostname and OIDC client settings in the Admin UI configuration</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../model/auth/GenericResponse.html" title="class in io.jans.ca.plugin.adminui.model.auth">GenericResponse</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#retrieveLicense()" class="member-name-link">retrieveLicense</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The function `retrieveLicense()` retrieves a license using the provided configuration and returns a generic
 response.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../model/auth/GenericResponse.html" title="class in io.jans.ca.plugin.adminui.model.auth">GenericResponse</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#validateLicenseConfiguration()" class="member-name-link">validateLicenseConfiguration</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Validates the license configuration by checking for the presence of required parameters.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-io.jans.ca.plugin.adminui.service.BaseService">Methods inherited from class&nbsp;io.jans.ca.plugin.adminui.service.<a href="../BaseService.html" title="class in io.jans.ca.plugin.adminui.service">BaseService</a></h3>
<code><a href="../BaseService.html#executeDCR(java.lang.String)">executeDCR</a>, <a href="../BaseService.html#getClaims(io.jans.as.model.jwt.Jwt)">getClaims</a>, <a href="../BaseService.html#getToken(io.jans.as.client.TokenRequest,java.lang.String)">getToken</a>, <a href="../BaseService.html#getToken(io.jans.as.client.TokenRequest,java.lang.String,java.lang.String,java.util.List)">getToken</a>, <a href="../BaseService.html#introspectToken(java.lang.String,java.lang.String)">introspectToken</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="AUTHORIZATION">
<h3>AUTHORIZATION</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">AUTHORIZATION</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../../constant-values.html#io.jans.ca.plugin.adminui.service.license.LicenseDetailsService.AUTHORIZATION">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="CONTENT_TYPE">
<h3>CONTENT_TYPE</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">CONTENT_TYPE</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../../constant-values.html#io.jans.ca.plugin.adminui.service.license.LicenseDetailsService.CONTENT_TYPE">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="APPLICATION_JSON">
<h3>APPLICATION_JSON</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">APPLICATION_JSON</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../../constant-values.html#io.jans.ca.plugin.adminui.service.license.LicenseDetailsService.APPLICATION_JSON">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="LICENSE_KEY">
<h3>LICENSE_KEY</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">LICENSE_KEY</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../../constant-values.html#io.jans.ca.plugin.adminui.service.license.LicenseDetailsService.LICENSE_KEY">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="HARDWARE_ID">
<h3>HARDWARE_ID</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">HARDWARE_ID</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../../constant-values.html#io.jans.ca.plugin.adminui.service.license.LicenseDetailsService.HARDWARE_ID">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="BEARER">
<h3>BEARER</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">BEARER</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../../constant-values.html#io.jans.ca.plugin.adminui.service.license.LicenseDetailsService.BEARER">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="MESSAGE">
<h3>MESSAGE</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">MESSAGE</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../../constant-values.html#io.jans.ca.plugin.adminui.service.license.LicenseDetailsService.MESSAGE">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="CODE">
<h3>CODE</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">CODE</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../../constant-values.html#io.jans.ca.plugin.adminui.service.license.LicenseDetailsService.CODE">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="LICENSE_ISACTIVE_ERROR_RESPONSE">
<h3>LICENSE_ISACTIVE_ERROR_RESPONSE</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">LICENSE_ISACTIVE_ERROR_RESPONSE</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../../constant-values.html#io.jans.ca.plugin.adminui.service.license.LicenseDetailsService.LICENSE_ISACTIVE_ERROR_RESPONSE">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="LICENSE_RETRIEVE_ERROR_RESPONSE">
<h3>LICENSE_RETRIEVE_ERROR_RESPONSE</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">LICENSE_RETRIEVE_ERROR_RESPONSE</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../../constant-values.html#io.jans.ca.plugin.adminui.service.license.LicenseDetailsService.LICENSE_RETRIEVE_ERROR_RESPONSE">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="LICENSE_ACTIVATE_ERROR_RESPONSE">
<h3>LICENSE_ACTIVATE_ERROR_RESPONSE</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">LICENSE_ACTIVATE_ERROR_RESPONSE</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../../constant-values.html#io.jans.ca.plugin.adminui.service.license.LicenseDetailsService.LICENSE_ACTIVATE_ERROR_RESPONSE">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="LICENSE_APIS_404">
<h3>LICENSE_APIS_404</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">LICENSE_APIS_404</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../../constant-values.html#io.jans.ca.plugin.adminui.service.license.LicenseDetailsService.LICENSE_APIS_404">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="LICENSE_APIS_503">
<h3>LICENSE_APIS_503</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">LICENSE_APIS_503</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../../constant-values.html#io.jans.ca.plugin.adminui.service.license.LicenseDetailsService.LICENSE_APIS_503">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="TRIAL_GENERATE_ERROR_RESPONSE">
<h3>TRIAL_GENERATE_ERROR_RESPONSE</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">TRIAL_GENERATE_ERROR_RESPONSE</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../../constant-values.html#io.jans.ca.plugin.adminui.service.license.LicenseDetailsService.TRIAL_GENERATE_ERROR_RESPONSE">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>LicenseDetailsService</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">LicenseDetailsService</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="validateLicenseConfiguration()">
<h3>validateLicenseConfiguration</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../model/auth/GenericResponse.html" title="class in io.jans.ca.plugin.adminui.model.auth">GenericResponse</a></span>&nbsp;<span class="element-name">validateLicenseConfiguration</span>()</div>
<div class="block">Validates the license configuration by checking for the presence of required parameters.

 This method retrieves the license configuration from the persistence layer and checks the following:
 1. The existence of the license hardware key.
 2. The presence and validity of OIDC client details (OP host, client ID, client secret).
 3. The presence of the SSA (Software Statement Assertion).
 4. The existence of the license key.
 5. The presence of the scan license API hostname.
 6. The last updated date of the license details. If missing, it triggers synchronization of OIDC client details.
 7. The time elapsed since the last license details update, comparing it with the configured synchronization interval.
 If the interval has passed, it initiates synchronization of OIDC client details.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>A GenericResponse object indicating the validity of the license configuration.
 - Returns a successful response (true, 200) if all required parameters are present and valid.
 - Returns an error response (false, various error codes) if any required parameter is missing or invalid.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="deleteLicenseConfiguration()">
<h3>deleteLicenseConfiguration</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../model/auth/GenericResponse.html" title="class in io.jans.ca.plugin.adminui.model.auth">GenericResponse</a></span>&nbsp;<span class="element-name">deleteLicenseConfiguration</span>()
                                           throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></span></div>
<div class="block">Deletes the license-related configuration in both the persistent and in-memory Admin UI configuration.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="checkLicense()">
<h3>checkLicense</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../model/auth/GenericResponse.html" title="class in io.jans.ca.plugin.adminui.model.auth">GenericResponse</a></span>&nbsp;<span class="element-name">checkLicense</span>()</div>
<div class="block">Checks if the license details are valid and up-to-date.

 This method retrieves the license configuration from the persistence layer and performs several checks:
 1. It verifies the presence of essential license configuration parameters like hardware key, license key, and scan API hostname.
 2. It checks if the license validity and last update dates are available. If not, it triggers a synchronization with Agama Lab.
 3. It calculates the time elapsed since the last license details update and compares it with the configured synchronization interval.
 If the interval has passed, it initiates a synchronization.
 4. It determines if the license has expired by comparing the current date with the license validity date.
 If expired, it triggers a synchronization.
 5. If all checks pass, it constructs a JSON response containing custom attributes (specifically, the MAU threshold)
 and returns a success response.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>A GenericResponse object indicating the validity of the license and containing relevant license details.
 - Returns a successful response (true, 200) with license details if the license is valid and up-to-date.
 - Returns an error response (false, various error codes) if any configuration is missing, the license is invalid,
 or an exception occurs during the process.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="retrieveLicense()">
<h3>retrieveLicense</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../model/auth/GenericResponse.html" title="class in io.jans.ca.plugin.adminui.model.auth">GenericResponse</a></span>&nbsp;<span class="element-name">retrieveLicense</span>()</div>
<div class="block">The function `retrieveLicense()` retrieves a license using the provided configuration and returns a generic
 response.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The method `retrieveLicense()` returns a `GenericResponse` object.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="activateLicense(io.jans.ca.plugin.adminui.model.auth.LicenseRequest)">
<h3>activateLicense</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../model/auth/GenericResponse.html" title="class in io.jans.ca.plugin.adminui.model.auth">GenericResponse</a></span>&nbsp;<span class="element-name">activateLicense</span><wbr><span class="parameters">(<a href="../../model/auth/LicenseRequest.html" title="class in io.jans.ca.plugin.adminui.model.auth">LicenseRequest</a>&nbsp;licenseRequest)</span></div>
<div class="block">The function checks if the license is already active, if not, it creates a header map, creates a body map, and sends
 a POST request to the license server</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>licenseRequest</code> - The license key that you received from the license server.</dd>
<dt>Returns:</dt>
<dd>A LicenseApiResponse object.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="generateTrialLicense()">
<h3>generateTrialLicense</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../model/auth/GenericResponse.html" title="class in io.jans.ca.plugin.adminui.model.auth">GenericResponse</a></span>&nbsp;<span class="element-name">generateTrialLicense</span>()</div>
<div class="block">This function generates a trial license by sending a request to a specified URL and saving the license key in the
 configuration.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The method is returning a LicenseApiResponse object.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLicenseDetails()">
<h3>getLicenseDetails</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../model/auth/LicenseResponse.html" title="class in io.jans.ca.plugin.adminui.model.auth">LicenseResponse</a></span>&nbsp;<span class="element-name">getLicenseDetails</span>()</div>
<div class="block">This function is used to get the license details of the admin-ui</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>A LicenseResponse object</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="postSSA(io.jans.ca.plugin.adminui.model.auth.SSARequest)">
<h3>postSSA</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../model/auth/GenericResponse.html" title="class in io.jans.ca.plugin.adminui.model.auth">GenericResponse</a></span>&nbsp;<span class="element-name">postSSA</span><wbr><span class="parameters">(<a href="../../model/auth/SSARequest.html" title="class in io.jans.ca.plugin.adminui.model.auth">SSARequest</a>&nbsp;ssaRequest)</span></div>
<div class="block">The function takes an SSA string as input, calls the DCR API to get the scan hostname and OIDC client settings, and
 saves the SSA string and the scan hostname and OIDC client settings in the Admin UI configuration</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>ssaRequest</code> - The SSA request object.</dd>
<dt>Returns:</dt>
<dd>A LicenseApiResponse object.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2025. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
